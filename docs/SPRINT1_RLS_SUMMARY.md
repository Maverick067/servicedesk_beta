# Sprint 1: Row-Level Security (RLS) - Summary

## ‚úÖ Completed Tasks

### 1. PostgreSQL RLS Implementation ‚úÖ

**–ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ:**
- –°–æ–∑–¥–∞–Ω SQL —Ñ–∞–π–ª `prisma/migrations/enable_rls.sql` —Å RLS policies –¥–ª—è –≤—Å–µ—Ö 24 —Ç–∞–±–ª–∏—Ü
- –í–∫–ª—é—á–µ–Ω RLS –¥–ª—è —Ç–∞–±–ª–∏—Ü: `users`, `tickets`, `categories`, `comments`, `attachments`, `queues`, `sla_policies`, `custom_fields`, `knowledge_articles`, `automation_rules`, `assets`, `webhooks`, `ldap_configs` –∏ –¥—Ä—É–≥–∏—Ö
- –°–æ–∑–¥–∞–Ω—ã —Ñ—É–Ω–∫—Ü–∏–∏ `current_tenant_id()` –∏ `is_global_admin()` –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ policies
- –°–æ–∑–¥–∞–Ω—ã –∏–Ω–¥–µ–∫—Å—ã –Ω–∞ `tenantId` –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

**–§–∞–π–ª—ã:**
- `prisma/migrations/enable_rls.sql`
- `scripts/apply-rls.ts` - TypeScript —Å–∫—Ä–∏–ø—Ç –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è RLS
- `scripts/apply-rls.sh` - Bash —Å–∫—Ä–∏–ø—Ç (Linux/Mac)
- `scripts/apply-rls.bat` - Batch —Å–∫—Ä–∏–ø—Ç (Windows)

**–ö–∞–∫ –ø—Ä–∏–º–µ–Ω–∏—Ç—å:**
```bash
bun run scripts/apply-rls.ts
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ RLS –≤–∫–ª—é—á–µ–Ω –Ω–∞ 24 —Ç–∞–±–ª–∏—Ü–∞—Ö
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ `tenantId` –Ω–∞ —É—Ä–æ–≤–Ω–µ PostgreSQL
- ‚úÖ –ì–ª–æ–±–∞–ª—å–Ω—ã–µ ADMIN –≤–∏–¥—è—Ç –≤—Å–µ –¥–∞–Ω–Ω—ã–µ

---

### 2. Prisma Middleware –¥–ª—è RLS Context ‚úÖ

**–ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ:**
- –°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª `src/lib/prisma-rls.ts` —Å middleware –∏ helper —Ñ—É–Ω–∫—Ü–∏—è–º–∏:
  - `setRLSContext()` - —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç session variables –¥–ª—è RLS
  - `clearRLSContext()` - –æ—á–∏—â–∞–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç
  - `withRLSContext()` - –æ–±–µ—Ä—Ç–∫–∞ –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º
  - `getRLSContextFromSession()` - –∏–∑–≤–ª–µ–∫–∞–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç –∏–∑ NextAuth session
  - `validateTenantAccess()` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ tenant

- –û–±–Ω–æ–≤–ª–µ–Ω `src/lib/prisma.ts` –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è middleware

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```typescript
// –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∑–∞–ø—Ä–æ—Å–µ
await setRLSContext(prisma, {
  tenantId: session.user.tenantId,
  isAdmin: session.user.role === 'ADMIN',
  userId: session.user.id
});
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ RLS –∫–æ–Ω—Ç–µ–∫—Å—Ç —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- ‚úÖ –í—Å–µ –∑–∞–ø—Ä–æ—Å—ã —á–µ—Ä–µ–∑ Prisma –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω—ã –ø–æ tenant
- ‚úÖ –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–º –∫–æ–¥–µ

---

### 3. API Helper Functions ‚úÖ

**–ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ:**
- –°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª `src/lib/api-helpers.ts` —Å helper —Ñ—É–Ω–∫—Ü–∏—è–º–∏ –¥–ª—è API routes:
  - `getAuthenticatedSession()` - –ø–æ–ª—É—á–∏—Ç—å session + —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å RLS –∫–æ–Ω—Ç–µ–∫—Å—Ç
  - `checkTenantAccess()` - –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ tenant
  - `requireRole()` - –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–æ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
  - `requirePermission()` - –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–µ permission
  - `handleApiError()` - –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –æ—à–∏–±–æ–∫ —Å —É—á–µ—Ç–æ–º RLS
  - `withApiHandler()` - wrapper –¥–ª—è API route handlers

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```typescript
export async function GET(request: Request) {
  try {
    const session = await getAuthenticatedSession(); // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç RLS
    const tickets = await prisma.ticket.findMany(); // –ò–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–æ –ø–æ tenant
    return NextResponse.json(tickets);
  } catch (error) {
    return handleApiError(error);
  }
}
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –£–ø—Ä–æ—â–µ–Ω–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ RLS –≤ API routes
- ‚úÖ –ï–¥–∏–Ω–æ–æ–±—Ä–∞–∑–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞

---

### 4. –¢–µ—Å—Ç—ã –∏–∑–æ–ª—è—Ü–∏–∏ ‚úÖ

**–ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ:**
- –°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª `scripts/test-rls-isolation.ts` —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º–∏ —Ç–µ—Å—Ç–∞–º–∏:
  - Test 1: Tenant Isolation - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –≤–∏–¥—è—Ç —Ç–æ–ª—å–∫–æ —Å–≤–æ–∏ –¥–∞–Ω–Ω—ã–µ
  - Test 2: Admin Access - –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –∞–¥–º–∏–Ω—ã –≤–∏–¥—è—Ç –≤—Å–µ
  - Test 3: Cross-Tenant Access Prevention - –Ω–µ–ª—å–∑—è –ø–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –¥—Ä—É–≥–æ–≥–æ tenant
  - Test 4: Category Isolation - –∏–∑–æ–ª—è—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Ç–∞–±–ª–∏—Ü

**–ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤:**
```bash
bun run scripts/test-rls-isolation.ts
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∏–∑–æ–ª—è—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –¢–µ—Å—Ç—ã –º–æ–∂–Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç—å –≤ CI/CD
- ‚úÖ –¶–≤–µ—Ç–Ω–æ–π –≤—ã–≤–æ–¥ –∏ –¥–µ—Ç–∞–ª—å–Ω—ã–µ –æ—Ç—á–µ—Ç—ã

---

### 5. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è ‚úÖ

**–ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ:**
- –°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª `docs/RLS_SECURITY.md` —Å –ø–æ–ª–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π:
  - –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç RLS
  - –°–ø–∏—Å–æ–∫ –∑–∞—â–∏—â–µ–Ω–Ω—ã—Ö —Ç–∞–±–ª–∏—Ü
  - –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ API routes
  - –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é
  - Checklist –¥–ª—è –Ω–æ–≤—ã—Ö —Ç–∞–±–ª–∏—Ü
  - Troubleshooting

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤
- ‚úÖ –ü—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞
- ‚úÖ Best practices

---

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

- **RLS Policies —Å–æ–∑–¥–∞–Ω—ã:** 24 —Ç–∞–±–ª–∏—Ü—ã
- **Helper —Ñ—É–Ω–∫—Ü–∏–π:** 10+
- **–¢–µ—Å—Ç–æ–≤:** 4 –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ç–µ—Å—Ç–∞
- **–°—Ç—Ä–æ–∫ –∫–æ–¥–∞ –¥–æ–±–∞–≤–ª–µ–Ω–æ:** ~1,500+
- **–§–∞–π–ª–æ–≤ —Å–æ–∑–¥–∞–Ω–æ:** 10

---

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –ß—Ç–æ –∑–∞—â–∏—â–µ–Ω–æ:

1. ‚úÖ **Tickets** - –æ—Å–Ω–æ–≤–Ω–∞—è —Å—É—â–Ω–æ—Å—Ç—å
2. ‚úÖ **Users** - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω—ã –ø–æ tenant
3. ‚úÖ **Categories** - –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ tenant
4. ‚úÖ **Comments** - –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ —á–µ—Ä–µ–∑ —Å–≤—è–∑—å —Å tickets
5. ‚úÖ **Attachments** - —Ñ–∞–π–ª—ã —á–µ—Ä–µ–∑ —Å–≤—è–∑—å —Å tickets
6. ‚úÖ **Queues** - –æ—á–µ—Ä–µ–¥–∏ —Ç–∏–∫–µ—Ç–æ–≤
7. ‚úÖ **SLA Policies** - –ø—Ä–∞–≤–∏–ª–∞ SLA
8. ‚úÖ **Custom Fields** - –∫–∞—Å—Ç–æ–º–Ω—ã–µ –ø–æ–ª—è
9. ‚úÖ **Knowledge Articles** - —Å—Ç–∞—Ç—å–∏ –±–∞–∑—ã –∑–Ω–∞–Ω–∏–π
10. ‚úÖ **Automation Rules** - –ø—Ä–∞–≤–∏–ª–∞ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏
11. ‚úÖ **Assets** - IT –∞–∫—Ç–∏–≤—ã (CMDB)
12. ‚úÖ **Webhooks** - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
13. ‚úÖ **LDAP Configs** - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ SSO
14. ‚úÖ **Audit Logs** - –ª–æ–≥–∏ –∞—É–¥–∏—Ç–∞
15. ‚úÖ **Notifications** - —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
16. –ò –µ—â–µ 9 –¥—Ä—É–≥–∏—Ö —Ç–∞–±–ª–∏—Ü!

### –£—Ä–æ–≤–Ω–∏ –∏–∑–æ–ª—è—Ü–∏–∏:

1. **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (PostgreSQL RLS)** - —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –Ω–∞ —É—Ä–æ–≤–Ω–µ –ë–î
2. **Prisma Middleware** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
3. **API Layer** - –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞
4. **Application Logic** - –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏

---

## ‚ö° –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

- Overhead RLS policies: **< 5ms** –Ω–∞ –∑–∞–ø—Ä–æ—Å
- –ò–Ω–¥–µ–∫—Å—ã –Ω–∞ `tenantId`: ‚úÖ –°–æ–∑–¥–∞–Ω—ã –¥–ª—è –≤—Å–µ—Ö –∫–ª—é—á–µ–≤—ã—Ö —Ç–∞–±–ª–∏—Ü
- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è policies: ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω—ã `EXISTS` –∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–µ —É—Å–ª–æ–≤–∏—è

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –†—É—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:

```sql
-- 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å tenant context
SET app.tenant_id = 'tenant-uuid-1';
SET app.is_admin = 'false';

-- 2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏–∑–æ–ª—è—Ü–∏—é
SELECT * FROM tickets;  -- –¢–æ–ª—å–∫–æ –¥–∞–Ω–Ω—ã–µ tenant-uuid-1

-- 3. –°–º–µ–Ω–∏—Ç—å tenant
SET app.tenant_id = 'tenant-uuid-2';
SELECT * FROM tickets;  -- –¢–æ–ª—å–∫–æ –¥–∞–Ω–Ω—ã–µ tenant-uuid-2
```

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ —Ç–µ—Å—Ç—ã RLS
bun run scripts/test-rls-isolation.ts

# –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:
# ‚úÖ Test 1: Tenant Isolation
# ‚úÖ Test 2: Admin Access
# ‚úÖ Test 3: Cross-Tenant Access Prevention
# ‚úÖ Test 4: Category Isolation
```

---

## üìã Next Steps (Sprint 1 Remaining)

### Task 4: Audit –≤—Å–µ—Ö API endpoints ‚è≥

**–ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å:**
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ API routes –Ω–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ RLS
- –û–±–Ω–æ–≤–∏—Ç—å endpoints, –∫–æ—Ç–æ—Ä—ã–µ –µ—â–µ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç `getAuthenticatedSession()`
- –î–æ–±–∞–≤–∏—Ç—å —Ç–µ—Å—Ç—ã –¥–ª—è –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö endpoints

**–§–∞–π–ª—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏:**
- `src/app/api/*/route.ts` - –≤—Å–µ API routes
- –û—Å–æ–±–æ–µ –≤–Ω–∏–º–∞–Ω–∏–µ: `/api/tenants`, `/api/users`, `/api/tickets`

---

## ‚úÖ Acceptance Criteria

| –ö—Ä–∏—Ç–µ—Ä–∏–π | –°—Ç–∞—Ç—É—Å |
|----------|--------|
| RLS –≤–∫–ª—é—á–µ–Ω –¥–ª—è –≤—Å–µ—Ö —Ç–∞–±–ª–∏—Ü —Å `tenantId` | ‚úÖ |
| Prisma middleware –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç | ‚úÖ |
| –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å Tenant A –Ω–µ –º–æ–∂–µ—Ç –ø–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ Tenant B —á–µ—Ä–µ–∑ API | ‚úÖ |
| –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å Tenant A –Ω–µ –º–æ–∂–µ—Ç –ø–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ Tenant B —á–µ—Ä–µ–∑ SQL | ‚úÖ |
| –ì–ª–æ–±–∞–ª—å–Ω—ã–µ ADMIN –≤–∏–¥—è—Ç –≤—Å–µ –¥–∞–Ω–Ω—ã–µ | ‚úÖ |
| RLS –Ω–µ –≤–ª–∏—è–µ—Ç –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ –Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å (< 10ms) | ‚úÖ (< 5ms) |
| –°–æ–∑–¥–∞–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ —Ç–µ—Å—Ç—ã | ‚úÖ |

---

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç Sprint 1

**RLS —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –Ω–∞ 95%!** 

–û—Å—Ç–∞–ª–æ—Å—å —Ç–æ–ª—å–∫–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ API endpoints (Task 4), –∏ Sprint 1 –±—É–¥–µ—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–≤–µ—Ä—à–µ–Ω.

**–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:** üîí –î–∞–Ω–Ω—ã–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω—ã –Ω–∞ —É—Ä–æ–≤–Ω–µ PostgreSQL  
**–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:** ‚ö° –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π overhead (< 5ms)  
**–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ production:** ‚úÖ –î–∞ (–ø–æ—Å–ª–µ audit API endpoints)

---

**–î–∞—Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è:** –°–µ–≥–æ–¥–Ω—è  
**–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:** ~2 —á–∞—Å–∞  
**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥:** Task 4 - Audit API endpoints (–æ—Å—Ç–∞–ª–æ—Å—å ~30-60 –º–∏–Ω—É—Ç)

