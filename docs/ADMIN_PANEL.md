# üî• –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å Super Admin

–ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–ª—è —Å—É–ø–µ—Ä-–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã ServiceDesk.

## –û–±–∑–æ—Ä

–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –≥–ª–æ–±–∞–ª—å–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—é –≤—Å–µ–º–∏ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è–º–∏ (—Ç–µ–Ω–∞–Ω—Ç–∞–º–∏), –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ –∏ –º–æ–¥—É–ª—è–º–∏ —Å–∏—Å—Ç–µ–º—ã. –≠—Ç–æ –º–æ—â–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤ SaaS –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã.

## –î–æ—Å—Ç—É–ø

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
- –†–æ–ª—å: `ADMIN`
- tenantId: `null` (–≥–ª–æ–±–∞–ª—å–Ω—ã–π –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –±–µ–∑ –ø—Ä–∏–≤—è–∑–∫–∏ –∫ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏)

### –£—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è `bunx prisma db seed`:
```
Email: superadmin@servicedesk.com
–ü–∞—Ä–æ–ª—å: superadmin
```

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### 1. –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ (`/admin`)
- **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏:**
  - –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π
  - –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
  - –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–∏–∫–µ—Ç–æ–≤
  - –°—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º—ã
  
- **–ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è:**
  - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è–º–∏
  - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–æ–¥—É–ª—è–º–∏
  - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
  - –°–∏—Å—Ç–µ–º–∞ –∏ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

### 2. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–æ–¥—É–ª—è–º–∏ (`/admin/modules`)
–ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ –∞–∫—Ç–∏–≤–∞—Ü–∏–µ–π –º–æ–¥—É–ª–µ–π –¥–ª—è –∫–∞–∂–¥–æ–π –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏.

**–î–æ—Å—Ç—É–ø–Ω—ã–µ –º–æ–¥—É–ª–∏:**
- ‚úÖ –û—á–µ—Ä–µ–¥–∏ (Queues)
- ‚úÖ SLA –ü–æ–ª–∏—Ç–∏–∫–∏
- ‚úÖ –ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è
- ‚úÖ IT –ê–∫—Ç–∏–≤—ã (CMDB)
- ‚úÖ –û—Ç—á—ë—Ç—ã
- ‚úÖ Webhooks
- ‚úÖ LDAP/SSO

**–§—É–Ω–∫—Ü–∏–∏:**
- –í–∫–ª—é—á–µ–Ω–∏–µ/–æ—Ç–∫–ª—é—á–µ–Ω–∏–µ –º–æ–¥—É–ª–µ–π –¥–ª—è –∫–∞–∂–¥–æ–π –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏
- –ú–∞—Å—Å–æ–≤–æ–µ –≤–∫–ª—é—á–µ–Ω–∏–µ –≤—Å–µ—Ö –º–æ–¥—É–ª–µ–π
- –í–∏–∑—É–∞–ª—å–Ω–∞—è –∏–Ω–¥–∏–∫–∞—Ü–∏—è —Å—Ç–∞—Ç—É—Å–∞ –º–æ–¥—É–ª–µ–π

### 3. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ (`/admin/users`)
–ì–ª–æ–±–∞–ª—å–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –≤—Å–µ—Ö –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π.

**–§—É–Ω–∫—Ü–∏–∏:**
- –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å–∏—Å—Ç–µ–º—ã
- –ü–æ–∏—Å–∫ –ø–æ email, –∏–º–µ–Ω–∏ –∏–ª–∏ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏
- –°–±—Ä–æ—Å –ø–∞—Ä–æ–ª–µ–π —Å –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–æ–º
- –ê–∫—Ç–∏–≤–∞—Ü–∏—è/–¥–µ–∞–∫—Ç–∏–≤–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Ä–æ–ª—è–º –∏ —Å—Ç–∞—Ç—É—Å–∞–º

**–†–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:**
- üî• `ADMIN` - –°—É–ø–µ—Ä –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä (–≥–ª–æ–±–∞–ª—å–Ω—ã–π)
- üëë `TENANT_ADMIN` - –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏
- üë®‚Äçüíº `AGENT` - –ê–≥–µ–Ω—Ç –ø–æ–¥–¥–µ—Ä–∂–∫–∏
- üë§ `USER` - –û–±—ã—á–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å

### 4. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è–º–∏ (`/dashboard/tenants`)
–î–æ—Å—Ç—É–ø–Ω–æ —á–µ—Ä–µ–∑ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é.

**–§—É–Ω–∫—Ü–∏–∏:**
- –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π
- –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π —Å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º
- –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π
- –£–¥–∞–ª–µ–Ω–∏–µ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π (—Å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ–º)

### 5. –°–∏—Å—Ç–µ–º–∞ –∏ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (`/admin/system`)
–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ.

**–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è:**
- –°—Ç–∞—Ç—É—Å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ —Å–∏—Å—Ç–µ–º—ã
- –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –º–æ–¥—É–ª–∏ –∏ —Ñ—É–Ω–∫—Ü–∏–∏
- –í–µ—Ä—Å–∏–∏ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

## API Endpoints

### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
```
GET /api/admin/stats
```
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–±—â—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–æ –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ.

### –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
```
GET /api/admin/users
```
–°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤—Å–µ—Ö –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π.

```
POST /api/users/[id]/reset-password
Body: { newPassword: string }
```
–°–±—Ä–æ—Å –ø–∞—Ä–æ–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

```
PATCH /api/users/[id]
Body: { isActive: boolean }
```
–ê–∫—Ç–∏–≤–∞—Ü–∏—è/–¥–µ–∞–∫—Ç–∏–≤–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

### –ú–æ–¥—É–ª–∏
```
PATCH /api/tenants/[id]/modules
Body: { modules: { [key: string]: boolean } }
```
–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –º–æ–¥—É–ª–µ–π –¥–ª—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏.

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞
–í—Å–µ API endpoints –∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ø—Ä–æ–≤–µ—Ä—è—é—Ç:
1. –ù–∞–ª–∏—á–∏–µ –∞–∫—Ç–∏–≤–Ω–æ–π —Å–µ—Å—Å–∏–∏
2. –†–æ–ª—å `ADMIN`
3. –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ `tenantId` (–≥–ª–æ–±–∞–ª—å–Ω—ã–π –¥–æ—Å—Ç—É–ø)

### –ê—É–¥–∏—Ç
–í—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –¥–µ–π—Å—Ç–≤–∏—è –ª–æ–≥–∏—Ä—É—é—Ç—Å—è:
- –°–±—Ä–æ—Å –ø–∞—Ä–æ–ª–µ–π
- –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–æ–ª–µ–π
- –ê–∫—Ç–∏–≤–∞—Ü–∏—è/–¥–µ–∞–∫—Ç–∏–≤–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–æ–¥—É–ª—è–º–∏

### Middleware
```typescript
// src/middleware.ts
if (path.startsWith("/admin") && token?.role !== "ADMIN") {
  return NextResponse.redirect(new URL("/dashboard", req.url));
}
```

## –°–æ–∑–¥–∞–Ω–∏–µ —Å—É–ø–µ—Ä-–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞

### –ß–µ—Ä–µ–∑ seed (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
```bash
bunx prisma db seed
```

### –í—Ä—É—á–Ω—É—é —á–µ—Ä–µ–∑ SQL
```sql
-- –°–æ–∑–¥–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å ADMIN —Ä–æ–ª—å—é –ë–ï–ó tenantId
INSERT INTO users (id, email, name, password, role, "tenantId", "isActive", "createdAt", "updatedAt")
VALUES (
  gen_random_uuid(),
  'admin@yourcompany.com',
  'Super Admin',
  '$2a$10$HASHED_PASSWORD', -- –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ bcrypt
  'ADMIN',
  NULL, -- –í–ê–ñ–ù–û: NULL –¥–ª—è –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞
  true,
  NOW(),
  NOW()
);
```

### –ü—Ä–æ–≥—Ä–∞–º–º–Ω–æ (—á–µ—Ä–µ–∑ API)
```bash
POST /api/register
{
  "tenantName": null,
  "email": "superadmin@company.com",
  "password": "secure-password",
  "name": "Super Admin",
  "role": "ADMIN"
}
```

## –ù–∞–≤–∏–≥–∞—Ü–∏—è

### Sidebar
–î–ª—è –≥–ª–æ–±–∞–ª—å–Ω—ã—Ö –∞–¥–º–∏–Ω–æ–≤ (—Ä–æ–ª—å `ADMIN` –±–µ–∑ `tenantId`) –≤ sidebar –ø–æ—è–≤–ª—è–µ—Ç—Å—è —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π –ø—É–Ω–∫—Ç:

```
üî• –ê–¥–º–∏–Ω –ü–∞–Ω–µ–ª—å
```

–û–Ω –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Å–∞–º–æ–º –≤–µ—Ä—Ö—É –º–µ–Ω—é –∏ –≤—ã–¥–µ–ª—è–µ—Ç—Å—è –∫—Ä–∞—Å–Ω—ã–º —Ü–≤–µ—Ç–æ–º –¥–ª—è –ª–µ–≥–∫–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞.

### –û—Ç–ª–∏—á–∏—è –æ—Ç Tenant Admin
| –§—É–Ω–∫—Ü–∏—è | Super Admin | Tenant Admin |
|---------|-------------|--------------|
| –î–æ—Å—Ç—É–ø –∫ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏ | ‚úÖ –î–∞ | ‚ùå –ù–µ—Ç |
| –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö —Ç–µ–Ω–∞–Ω—Ç–æ–≤ | ‚úÖ –î–∞ | ‚ùå –ù–µ—Ç |
| –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–æ–¥—É–ª—è–º–∏ | ‚úÖ –í—Å–µ —Ç–µ–Ω–∞–Ω—Ç—ã | ‚úÖ –¢–æ–ª—å–∫–æ —Å–≤–æ–π |
| –°–±—Ä–æ—Å –ø–∞—Ä–æ–ª–µ–π | ‚úÖ –í—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ | ‚úÖ –¢–æ–ª—å–∫–æ —Å–≤–æ–µ–≥–æ —Ç–µ–Ω–∞–Ω—Ç–∞ |
| –°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ–Ω–∞–Ω—Ç–æ–≤ | ‚úÖ –î–∞ | ‚ùå –ù–µ—Ç |
| Billing | ‚ùå –ù–µ—Ç (–≥–ª–æ–±–∞–ª—å–Ω—ã–π) | ‚úÖ –î–∞ |

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –®–∞–≥ 1: –í–æ–π–¥–∏—Ç–µ –∫–∞–∫ —Å—É–ø–µ—Ä-–∞–¥–º–∏–Ω
```
Email: superadmin@servicedesk.com
–ü–∞—Ä–æ–ª—å: superadmin
```

### –®–∞–≥ 2: –û—Ç–∫—Ä–æ–π—Ç–µ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
–ù–∞–∂–º–∏—Ç–µ –Ω–∞ "üî• –ê–¥–º–∏–Ω –ü–∞–Ω–µ–ª—å" –≤ sidebar –∏–ª–∏ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ `/admin`

### –®–∞–≥ 3: –£–ø—Ä–∞–≤–ª—è–π—Ç–µ —Å–∏—Å—Ç–µ–º–æ–π
- –°–æ–∑–¥–∞–≤–∞–π—Ç–µ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏
- –ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –º–æ–¥—É–ª–∏
- –£–ø—Ä–∞–≤–ª—è–π—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
- –°–±—Ä–∞—Å—ã–≤–∞–π—Ç–µ –ø–∞—Ä–æ–ª–∏

## –¢–∏–ø–∏—á–Ω—ã–µ –∑–∞–¥–∞—á–∏

### –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—é
1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ "–û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏" ‚Üí "–°–æ–∑–¥–∞—Ç—å –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—é"
2. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏
3. –°–æ–∑–¥–∞–π—Ç–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏
4. –ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –Ω—É–∂–Ω—ã–µ –º–æ–¥—É–ª–∏

### –°–±—Ä–æ—Å–∏—Ç—å –ø–∞—Ä–æ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ "–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏"
2. –ù–∞–π–¥–∏—Ç–µ –Ω—É–∂–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
3. –ù–∞–∂–º–∏—Ç–µ "–°–±—Ä–æ—Å–∏—Ç—å –ø–∞—Ä–æ–ª—å"
4. –°–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ –∏–ª–∏ –≤–≤–µ–¥–∏—Ç–µ –Ω–æ–≤—ã–π –ø–∞—Ä–æ–ª—å
5. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∏ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ –ø–∞—Ä–æ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é

### –í–∫–ª—é—á–∏—Ç—å –º–æ–¥—É–ª–∏ –¥–ª—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏
1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ "–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–æ–¥—É–ª—è–º–∏"
2. –ù–∞–π–¥–∏—Ç–µ –Ω—É–∂–Ω—É—é –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—é
3. –í–∫–ª—é—á–∏—Ç–µ/–≤—ã–∫–ª—é—á–∏—Ç–µ –º–æ–¥—É–ª–∏ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—è–º–∏
4. –ò–ª–∏ –Ω–∞–∂–º–∏—Ç–µ "–í–∫–ª—é—á–∏—Ç—å –≤—Å–µ" –¥–ª—è –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –≤—Å–µ—Ö –º–æ–¥—É–ª–µ–π

### –î–µ–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ "–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏"
2. –ù–∞–π–¥–∏—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
3. –ù–∞–∂–º–∏—Ç–µ "–î–µ–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å"
4. –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –¥–µ–π—Å—Ç–≤–∏–µ

## Troubleshooting

### –ù–µ –≤–∏–∂—É "–ê–¥–º–∏–Ω –ü–∞–Ω–µ–ª—å" –≤ –º–µ–Ω—é
**–†–µ—à–µ–Ω–∏–µ:** –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ:
- –í—ã –≤–æ—à–ª–∏ –∫–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å —Ä–æ–ª—å—é `ADMIN`
- –£ –≤–∞—à–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è `tenantId` —Ä–∞–≤–µ–Ω `NULL`
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö: `SELECT role, "tenantId" FROM users WHERE email = 'your@email.com'`

### 401 Unauthorized –ø—Ä–∏ –¥–æ—Å—Ç—É–ø–µ –∫ /admin
**–†–µ—à–µ–Ω–∏–µ:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–æ–ª—å –≤ —Å–µ—Å—Å–∏–∏
- –ü–µ—Ä–µ–ª–æ–≥–∏–Ω—å—Ç–µ—Å—å
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ middleware

### –ù–µ –º–æ–≥—É —Å–±—Ä–æ—Å–∏—Ç—å –ø–∞—Ä–æ–ª—å
**–†–µ—à–µ–Ω–∏–µ:**
- –¢–æ–ª—å–∫–æ –≥–ª–æ–±–∞–ª—å–Ω—ã–µ ADMIN –º–æ–≥—É—Ç —Å–±—Ä–∞—Å—ã–≤–∞—Ç—å –ø–∞—Ä–æ–ª–∏ —á–µ—Ä–µ–∑ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞
- –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ `tenantId` —Ä–∞–≤–µ–Ω `NULL`

## –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

- –°—É–ø–µ—Ä-–∞–¥–º–∏–Ω –ù–ï –≤–∏–¥–∏—Ç:
  - Billing —Å–≤–æ–µ–≥–æ –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ —Ç–µ–Ω–∞–Ω—Ç–∞
  - –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Ç–µ–Ω–∞–Ω—Ç–∞ (—Ç.–∫. –Ω–µ –ø—Ä–∏–≤—è–∑–∞–Ω –∫ —Ç–µ–Ω–∞–Ω—Ç—É)
  
- –°—É–ø–µ—Ä-–∞–¥–º–∏–Ω –≤–∏–¥–∏—Ç:
  - –í—Å–µ —Ç–∏–∫–µ—Ç—ã –≤—Å–µ—Ö –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π
  - –í—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤—Å–µ—Ö –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π
  - –í—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤—Å–µ—Ö –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –≤ production

1. **–ò–∑–º–µ–Ω–∏—Ç–µ –ø–∞—Ä–æ–ª–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é** –ø–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ –≤—Ö–æ–¥–∞
2. **–í–∫–ª—é—á–∏—Ç–µ 2FA** –¥–ª—è —Å—É–ø–µ—Ä-–∞–¥–º–∏–Ω–æ–≤ (–±—É–¥—É—â–∞—è —Ñ—É–Ω–∫—Ü–∏—è)
3. **–û–≥—Ä–∞–Ω–∏—á—å—Ç–µ IP** –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏ (—á–µ—Ä–µ–∑ nginx/firewall)
4. **–†–µ–≥—É–ª—è—Ä–Ω–æ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ** audit logs
5. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–∏–ª—å–Ω—ã–µ –ø–∞—Ä–æ–ª–∏** (–º–∏–Ω–∏–º—É–º 12 —Å–∏–º–≤–æ–ª–æ–≤)

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

- –°–æ–∑–¥–∞–π—Ç–µ –º–∏–Ω–∏–º—É–º 2 —Å—É–ø–µ—Ä-–∞–¥–º–∏–Ω–æ–≤ –¥–ª—è —Ä–µ–∑–µ—Ä–≤–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞
- –†–µ–≥—É–ª—è—Ä–Ω–æ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –î–µ–∞–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∞–∫–∫–∞—É–Ω—Ç—ã
- –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è—Ö
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ—Ç–¥–µ–ª—å–Ω—ã–µ email –¥–ª—è —Å—É–ø–µ—Ä-–∞–¥–º–∏–Ω–æ–≤

## –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã —Å –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å—é:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `bunx prisma studio`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ browser console
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ server logs –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ
4. –û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ API

---

**–°–æ–∑–¥–∞–Ω–æ:** 2025-01-28  
**–í–µ—Ä—Å–∏—è:** 1.0.0  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ Production Ready

